<h2>Question "<%= @query %>" for survey "<%= @survey.title() %>"</h2>
<% if @question.response_sets.any? %>
  <h3>Here are the current possible responses to this question:</h3>
    <% @question.response_sets.first.responses.each do |response| %>
    <ul>
      <li><%= response.answer() %></li>
    </ul>
    <% end %>
  <h3>Would you like to change the possible responses?:</h3>
<% else %>
  <h3>What responses would you like your users to choose from?</h3>
<% end %>

<div style="margin-left: 30px">
  <form action="/survey/<%= @survey_id %>/question/<%= @question_id %>" method="post">
    <h4>Select a pre-made response set:</h4>
      <div class="radio">
        <label>
          <% @canned_response_sets.each() do |canned_set| %>
              <input type="radio" name="chosen_response_set" value="<%= canned_set.id() %>">
                <p><%= canned_set.name() %></p>
                <% canned_set.responses().each() do |canned_response| %>
                <li><%= canned_response.answer() %></li>
          <% end %>
          <br>
        <% end %>
        </label>
        <br>
        <h4>Or, create your own custom response set:</h4>
        <label><input type="radio" name="chosen_response_set" value="choose_custom">Custom (leave fields blank if unneeded)</label>
          <div style="margin-left: 30px">
            <% 5.times() do |counter| %>
              <% for_id_name = "response_".concat((counter + 1).to_s) %>
              <% response_counter = "Response ".concat((counter + 1).to_s) %>
              <label for="<%=for_id_name%>"><%=response_counter%></label>
              <input id="<%=for_id_name%>" name="<%=for_id_name%>" type=text><br>
            <% end %>
          </div>
      </div>
      <button type="submit" class="btn btn-success">Add Response Set</button>
    </div>
  </form>
</div>
